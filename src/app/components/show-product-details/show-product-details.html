<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<div class="mt-5 p-3">
    <div *ngIf="showTable">
        <table mat-table [dataSource]="productDetails" class="mat-elevation-z8"> 
            <ng-container matColumnDef="Id" >
            <th mat-header-cell *matHeaderCellDef class="text-center"> <b>Id</b></th>
            <td mat-cell *matCellDef="let element" class="text-center"> {{element.id}} </td>
            </ng-container>
        
            <ng-container matColumnDef="Product Name">
                <th mat-header-cell *matHeaderCellDef class="text-center"> <b>Product Name</b> </th>
                <td mat-cell *matCellDef="let element" class="text-center"> {{element.productName}} </td>
            </ng-container>

            <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef class="text-center"> <b>Product Description</b> </th>
            <td mat-cell *matCellDef="let element" class="text-center"> {{element.productDescription}} </td>
            </ng-container>
        
            <ng-container matColumnDef="Product Discounted Price">
            <th mat-header-cell *matHeaderCellDef class="text-center"> <b>Product Discounted Price</b> </th>
            <td mat-cell *matCellDef="let element" class="text-center"> 
                <div *ngIf="element.productDiscountedPrice !== 0 && element.productDiscountedPrice !== null"> 
                    {{element.productDiscountedPrice}}
                </div>
            </td>
            </ng-container>
        
            <ng-container matColumnDef="Product Actual Price">
            <th mat-header-cell *matHeaderCellDef class="text-center"> <b> Product Actual Price </b> </th>
            <td mat-cell *matCellDef="let element" class="text-center"> {{element.productActualPrice}} </td>
            </ng-container>

            <ng-container matColumnDef="Actions">
                <th mat-header-cell *matHeaderCellDef class="text-center"> <b> Actions </b> </th>
                <td mat-cell *matCellDef="let element" class="text-center">
                  <button mat-icon-button color="primary" (click)="openModal(element.id)">
                    <mat-icon>
                      images
                    </mat-icon>
                  </button>

                    <div id="id01-{{element.id}}" class="w3-modal">
                      <div class="w3-modal-content">
                        <div class="w3-container w3-modal-conten">
                          <span (click)="closeModal(element.id)" class="w3-button w3-display-topright">&times;</span>
                          <div class="mt-2">
                            <mat-grid-list cols="2" rowHeight="1:1" gutterSize="10">
                              <mat-grid-tile *ngFor="let file of element.productImages" class="images">
                                  <img [src]="file.url"  class="product-zoom-image">
                              </mat-grid-tile>
                            </mat-grid-list>
                          </div>
                        </div>
                      </div>
                    </div>

                    <button mat-icon-button color="primary" (click)="editProductDetails(element.id)">
                        <mat-icon>
                        edit  
                        </mat-icon>
                    </button>
                    <button mat-icon-button color="warn" (click)="deleteProduct(element.id)">
                        <mat-icon>
                            delete  
                        </mat-icon>
                    </button>
                </td>
                </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>

    <div class="text-center p-5" *ngIf="showLoadMoreProductButton">
        <button type="button" mat-raised-button color="primary" (click)="loadMoreProducts()"> Load More</button>
    </div>
</div>